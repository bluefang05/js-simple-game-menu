<!DOCTYPE html>
<html>
<head>
  <title>Game Menu</title>
  <link rel="stylesheet" href="menu.css">
</head>
<body>
  <button id="show-menu-btn"></button>
  <script src="menu.js"></script>
  <script>
    const menuData = [
      {
        label: 'Play',
        onClick: () => {
          console.log('Clicked on Play');
        }
      },
      {
        label: 'Levels',
        submenu: [
          {
            label: 'Easy',
            onClick: () => {
              console.log('Clicked on Easy');
            }
          },
          {
            label: 'Medium',
            onClick: () => {
              console.log('Clicked on Medium');
            }
          },
          {
            label: 'Hard',
            onClick: () => {
              console.log('Clicked on Hard');
            }
          }
        ]
      },
      {
        label: 'Options',
        submenu: [
          {
            label: 'Sound',
            submenu: [
              {
                label: 'On',
                onClick: () => {
                  console.log('Clicked on Sound On');
                }
              },
              {
                label: 'Off',
                onClick: () => {
                  console.log('Clicked on Sound Off');
                }
              }
            ]
          },
          {
            label: 'Graphics',
            submenu: [
              {
                label: 'Low',
                onClick: () => {
                  console.log('Clicked on Graphics Low');
                }
              },
              {
                label: 'Medium',
                onClick: () => {
                  console.log('Clicked on Graphics Medium');
                }
              },
              {
                label: 'High',
                onClick: () => {
                  console.log('Clicked on Graphics High');
                }
              }
            ]
          }
        ]
      },
      {
        label: 'Quit',
        onClick: () => {
          console.log('Clicked on Quit');
        }
      }
    ];
  
    const menuConfig = {
      menuData,
      title: 'Game Menu',
      subtitle: 'Select an option below:',
      buttonNames: { close: 'Exit', show: 'Open Menu' }
    };
  
    const menu = new Menu(menuConfig);
    menu.createMenu();
  
    const showMenuBtn = document.getElementById('show-menu-btn');
    showMenuBtn.textContent = menu.buttonNames.show;
    showMenuBtn.addEventListener('click', () => {
      menu.toggle();
    });
  </script>
  
</body>
</html>

class Menu {
  constructor({ menuData, title, subtitle, buttonNames }) {
    this.menuData = menuData;
    this.menuElement = null;
    this.title = title;
    this.subtitle = subtitle;
    this.buttonNames = buttonNames || { close: 'Close', show: 'Show Menu' }; // default values
  }

  createMenuItems(menuData) {
    const menuList = document.createElement('ul');

    for (let i = 0; i < menuData.length; i++) {
      const menuItem = menuData[i];
      const menuItemElement = document.createElement('li');

      menuItemElement.textContent = menuItem.label;

      if (menuItem.submenu && menuItem.submenu.length > 0) {
        const submenu = this.createMenuItems(menuItem.submenu);
        submenu.classList.add('submenu');
        menuItemElement.appendChild(submenu);

        menuItemElement.addEventListener('click', function () {
          this.childNodes[1].style.display = this.childNodes[1].style.display === 'block' ? 'none' : 'block';
        });
      } else {
        menuItemElement.addEventListener('click', menuItem.onClick);
      }

      menuList.appendChild(menuItemElement);
    }

    return menuList;
  }

  createMenu() {
    const menuList = this.createMenuItems(this.menuData);

    const closeButton = document.createElement('button');
    closeButton.textContent = this.buttonNames.close;
    closeButton.addEventListener('click', () => {
      this.hide();
    });

    this.menuElement = document.createElement('div');
    this.menuElement.classList.add('menu', 'menu-container');

    if (this.title) {
      const titleElement = document.createElement('div');
      titleElement.classList.add('menu-title');
      titleElement.textContent = this.title;
      this.menuElement.appendChild(titleElement);
    }

    if (this.subtitle) {
      const subtitleElement = document.createElement('div');
      subtitleElement.classList.add('menu-subtitle');
      subtitleElement.textContent = this.subtitle;
      this.menuElement.appendChild(subtitleElement);
    }

    this.menuElement.appendChild(menuList);
    this.menuElement.appendChild(closeButton);
    document.body.appendChild(this.menuElement);
  }

  toggle() {
    this.menuElement.classList.toggle('visible');
  }

  hide() {
    this.menuElement.classList.remove('visible');
  }
}


.menu-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: rgba(0, 0, 0, 0.5);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 9999;
}

.menu-container.visible {
  opacity: 1;
}

.menu {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: #f2f2f2;
  padding: 20px;
  border: 1px solid #ccc;
  display: none;
  width: fit-content;
  overflow-y: auto;
  flex-direction: column;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: fit-content;
}

.close-menu-btn {
  width: 100%;
  text-align: center;
  margin-top: 10px;
}



.menu-title {
  font-size: 2em;
  font-weight: bold;
  text-align: center;
  margin-bottom: 10px;
}

.menu-subtitle {
  font-size: 1.2em;
  text-align: center;
  margin-bottom: 20px;
}


.menu-buttons {
  margin-top: 20px;
}

.menu-button {
  display: block;
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
  text-align: left;
  background-color: #f5f5f5;
  border: none;
  border-radius: 4px;
  cursor: pointer;
}

.menu-button:hover {
  background-color: #e0e0e0;
}

.close-menu-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 5px;
  font-size: 1.2em;
  background-color: transparent;
  border: none;
  cursor: pointer;
}

.overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

.menu li {
  cursor: pointer;
  padding: 5px;
}

.menu li:hover {
  background-color: #ddd;
}

.submenu {
  display: none;
  list-style-type: none;
  padding-left: 0;
}

.submenu li {
  padding: 5px;
}

.submenu li:hover {
  background-color: #ddd;
}


